<!DOCTYPE html>
<html >
<head >
    <meta charset="UTF-8">
    <title>诺而为CRM用户注册页面</title>

    <!-- 外部文件引入-->
    <script src="./js/jquery/2.0.0/jquery.min.js" type="text/javascript"></script>
    <link href="./css/bootstrap/3.3.6/bootstrap.min.css" rel="stylesheet">
    <script src="./js/bootstrap/3.3.6/bootstrap.min.js"></script>
    <script src="../js/vue/2.5.16/vue.min.js"></script>
    <script src="../js/axios/0.17.1/axios.min.js"></script>
    <script src="../js/moment/2.22.2/moment.js"></script>
    <link href="../css/fore/style.css" rel="stylesheet">
    <script src="../js/customize/imageValidate.js"></script>
    <link href="../css/fore/imageValidate.css" rel="stylesheet">

    <style type="text/css">
        .registerCategory{
            height:40px;
            width: 100%;
        }
        .registerCategory ul{
            list-style: none;
            display:block;
            height: 40px;
            margin: 0px auto;
            margin-left: -40px;
        }
        ul li{
            display: inline-block;
            float: left;
            border-right: 1px solid #999;
        }
        li a{
            line-height: 40px;
            display: block;
            padding:0px 30px;
            cursor: pointer;
        }
        li a:hover{
            color: #8a6d3b;
        }
    </style>
</head>

<body style="margin:0px;position: absolute;top: 0;bottom: 0;left: 0;right: 0">
    <div id="registerMainArea" style="position: absolute;top: 0;bottom: 0;left: 0;right: 0">
    <!-- 重置密码-->
        <div id="registerFrameArea" style="">

            <div id="registerFrameDiv" style="width:470px;margin-left:-235px;padding:40px 30px;position: absolute;left: 50%;text-align: left;box-sizing: border-box;">
                <div id="registerTitle" style="height: 37px">
                    <h2 style="font-size: 30px;font-weight: 400;line-height: 37px">欢迎注册诺而为CRM账号</h2>
                </div>

                <div class="registerCategory">
                    <ul>
                        <li>
                            <a href="#nowhere" class="customerLink" @click="toggleToCustomer">客户</a>
                        </li>
                        <li>
                            <a href="#nowhere" class="agentLink" @click="toggleToAgent">代理商</a>
                        </li>
                        <li>
                            <a href="#nowhere" class="expertLink" @click="toggleToExpert">技术专家</a>
                        </li>
                    </ul>
                </div>

                <div class="registerMessageDiv" style="visibility: hidden">
                    <div class="alert alert-danger" >
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close"></button>
                        <span class="message" ></span>
                    </div>
                </div>

                <div id="registerBody_customer" v-show="showCustomer">
                    <div class="registerInput" style="position: relative;margin-top: 26px">
                        <input v-model="customerData.name" @focus="init" placeholder="登录账号" type="text"
                               style="width: 100%;height: 46px;outline: none;font-size: 16px;padding: 11px 0px 10px 16px;border:1px solid #cbcbcb;border-radius: 3px;box-sizing: border-box;">
                    </div>
                    <div class="registerInput" style="position: relative;margin-top: 26px">
                        <input v-model="customerData.password" @focus="init" placeholder="密码" type="password"
                               style="width: 100%;height: 46px;outline: none;font-size: 16px;padding: 11px 0px 10px 16px;border:1px solid #cbcbcb;border-radius: 3px;box-sizing: border-box;">
                        <div class="tipInfo" style="padding-top: 10px">6-18个字符,由包含数字、字母、特殊字符(!@#$%^&*_.,)组成</div>
                    </div>
                    <div class="registerInput" style="position: relative;margin-top: 26px">
                        <input v-model="customerData.email" @focus="init" placeholder="预留邮箱" type="text"
                               style="width: 100%;height: 46px;outline: none;font-size: 16px;padding: 11px 0px 10px 16px;border:1px solid #cbcbcb;border-radius: 3px;box-sizing: border-box;">
                    </div>
                    <div class="registerInput" style="position: relative;margin-top: 26px">
                        <input v-model="customerData.phone" @focus="init" placeholder="手机号" type="text"
                               style="width: 100%;height: 46px;outline: none;font-size: 16px;padding: 11px 0px 10px 16px;border:1px solid #cbcbcb;border-radius: 3px;box-sizing: border-box;">
                    </div>
                    <div class="registerInput" style="position: relative;margin-top: 10px">
                        <input v-model="customerData.company" @focus="init" placeholder="公司名称" type="text"
                               style="width: 100%;height: 46px;outline: none;font-size: 16px;padding: 11px 0px 10px 16px;border:1px solid #cbcbcb;border-radius: 3px;box-sizing: border-box;">
                    </div>

                    <div class="" style="margin-top: 30px">
                        <button class="btn btn-block redButton" type="button" @click="registerCustomer">注册</button>
                    </div>
                </div>

                <div id="registerBody_agent" v-show="showAgent">
                    <div class="registerInput" style="position: relative;margin-top: 26px">
                        <input v-model="agentData.name" @focus="init" placeholder="登录账号" type="text"
                               style="width: 100%;height: 46px;outline: none;font-size: 16px;padding: 11px 0px 10px 16px;border:1px solid #cbcbcb;border-radius: 3px;box-sizing: border-box;">
                    </div>
                    <div class="registerInput" style="position: relative;margin-top: 26px">
                        <input v-model="agentData.password" @focus="init" placeholder="密码" type="password"
                               style="width: 100%;height: 46px;outline: none;font-size: 16px;padding: 11px 0px 10px 16px;border:1px solid #cbcbcb;border-radius: 3px;box-sizing: border-box;">
                        <div class="tipInfo" style="padding-top: 10px">6-18个字符,由包含数字、字母、特殊字符(!@#$%^&*_.,)组成</div>
                    </div>
                    <div class="registerInput" style="position: relative;margin-top: 26px">
                        <input v-model="agentData.email" @focus="init" placeholder="预留邮箱" type="text"
                               style="width: 100%;height: 46px;outline: none;font-size: 16px;padding: 11px 0px 10px 16px;border:1px solid #cbcbcb;border-radius: 3px;box-sizing: border-box;">
                    </div>
                    <div class="registerInput" style="position: relative;margin-top: 26px">
                        <input v-model="agentData.phone" @focus="init" placeholder="手机号" type="text"
                               style="width: 100%;height: 46px;outline: none;font-size: 16px;padding: 11px 0px 10px 16px;border:1px solid #cbcbcb;border-radius: 3px;box-sizing: border-box;">
                    </div>
                    <div class="registerInput" style="position: relative;margin-top: 10px">
                        <input v-model="agentData.company" @focus="init" placeholder="代理名称" type="text"
                               style="width: 100%;height: 46px;outline: none;font-size: 16px;padding: 11px 0px 10px 16px;border:1px solid #cbcbcb;border-radius: 3px;box-sizing: border-box;">
                    </div>

                    <div class="" style="margin-top: 30px">
                        <button class="btn btn-block redButton" type="button" @click="registerAgent">注册</button>
                    </div>
                </div>

                <div id="registerBody_expert" v-show="showExpert">
                    <div class="registerInput" style="position: relative;margin-top: 26px">
                        <input v-model="expertData.name" @focus="init" placeholder="登录账号" type="text"
                               style="width: 100%;height: 46px;outline: none;font-size: 16px;padding: 11px 0px 10px 16px;border:1px solid #cbcbcb;border-radius: 3px;box-sizing: border-box;">
                    </div>
                    <div class="registerInput" style="position: relative;margin-top: 26px">
                        <input v-model="expertData.password" @focus="init" placeholder="密码" type="password"
                               style="width: 100%;height: 46px;outline: none;font-size: 16px;padding: 11px 0px 10px 16px;border:1px solid #cbcbcb;border-radius: 3px;box-sizing: border-box;">
                        <div class="tipInfo" style="padding-top: 10px">6-18个字符,由包含数字、字母、特殊字符(!@#$%^&*_.,)组成</div>
                    </div>
                    <div class="registerInput" style="position: relative;margin-top: 26px">
                        <input v-model="expertData.email" @focus="init" placeholder="预留邮箱" type="text"
                               style="width: 100%;height: 46px;outline: none;font-size: 16px;padding: 11px 0px 10px 16px;border:1px solid #cbcbcb;border-radius: 3px;box-sizing: border-box;">
                    </div>
                    <div class="registerInput" style="position: relative;margin-top: 26px">
                        <input v-model="expertData.phone" @focus="init" placeholder="手机号" type="text"
                               style="width: 100%;height: 46px;outline: none;font-size: 16px;padding: 11px 0px 10px 16px;border:1px solid #cbcbcb;border-radius: 3px;box-sizing: border-box;">
                    </div>
                    <div class="registerInput" style="position: relative;margin-top: 10px">
                        <input v-model="expertData.company" @focus="init" placeholder="名称" type="text"
                               style="width: 100%;height: 46px;outline: none;font-size: 16px;padding: 11px 0px 10px 16px;border:1px solid #cbcbcb;border-radius: 3px;box-sizing: border-box;">
                    </div>

                    <div class="" style="margin-top: 30px">
                        <button class="btn btn-block redButton" type="button" @click="registerAgent">注册</button>
                    </div>
                </div>

            </div>
        </div>
    </div>
</body>

<script>
    $(function () {

    });
    var registerData = {
        customerUri:'./../customerRegister',
        agentUri:'./../agentRegister',
        expertUri:'./../expertRegister',
        showCustomer:true,
        showAgent:false,
        showExpert:false,
        customerData:{name:'',password:'',phone:'',email:'',company:''},
        agentData:{name:'',password:'',phone:'',email:'',company:''},
        expertData:{name:'',password:'',phone:'',email:'',company:''}
    };

    var vue = new Vue({
        el:'#registerFrameDiv',
        data:registerData,
        mounted:function () {//vue 加载成功

        },
        methods:{
            init:function(){
                $("div.registerMessageDiv").css("visibility", "hidden");
            },
            toggleToCustomer:function () {
                vue.showCustomer = true;
                vue.showAgent = false;
                vue.showExpert = false;
                $("div.registerMessageDiv").css("visibility", "hidden");
            },
            toggleToAgent:function () {
                vue.showAgent = true;
                vue.showCustomer = false;
                vue.showExpert = false;
                $("div.registerMessageDiv").css("visibility", "hidden");
            },
            toggleToExpert:function () {
                vue.showExpert = true;
                vue.showAgent = false;
                vue.showCustomer = false;
                $("div.registerMessageDiv").css("visibility", "hidden");
            },
            registerCustomer:function () {
                if (0 == this.customerData.name.length) {
                    $("span.message").html("请输入用户名");
                    $("div.registerMessageDiv").css("visibility", "visible");
                    return;
                }
                if (0 == this.customerData.password.length) {
                    $("span.message").html("请输入密码");
                    $("div.registerMessageDiv").css("visibility", "visible");
                    return;
                }
                if (0 == this.customerData.phone.length) {
                    $("span.message").html("请输入手机号");
                    $("div.registerMessageDiv").css("visibility", "visible");
                    return;
                }
                if (0 == this.customerData.email.length) {
                    $("span.message").html("请输入邮箱");
                    $("div.registerMessageDiv").css("visibility", "visible");
                    return;
                }
                if (0 == this.customerData.company.length) {
                    $("span.message").html("请输入公司名称");
                    $("div.registerMessageDiv").css("visibility", "visible");
                    return;
                }

                <!-- 登录请求将移步至滑块验证鼠标松开事件处-->
                axios.post(this.customerUri, this.customerData).then(function (response) {
                    var result = response.data;
                    $("span.message").html(result.message);
                    $("div.registerMessageDiv").css("visibility", "visible");
                });
            },
            registerAgent:function () {
                if (0 == this.agentData.name.length) {
                    $("span.message").html("请输入用户名");
                    $("div.registerMessageDiv").css("visibility", "visible");
                    return;
                }
                if (0 == this.agentData.password.length) {
                    $("span.errorMessage").html("请输入密码");
                    $("div.registerMessageDiv").css("visibility", "visible");
                    return;
                }
                if (0 == this.agentData.phone.length) {
                    $("span.message").html("请输入手机号");
                    $("div.loginErrorMessageDiv").css("visibility", "visible");
                    return;
                }
                if (0 == this.agentData.email.length) {
                    $("span.message").html("请输入邮箱");
                    $("div.registerMessageDiv").css("visibility", "visible");
                    return;
                }
                if (0 == this.agentData.company.length) {
                    $("span.message").html("请输入名称");
                    $("div.registerMessageDiv").css("visibility", "visible");
                    return;
                }

                <!-- 登录请求将移步至滑块验证鼠标松开事件处-->
                axios.post(this.agentUri, this.agentData).then(function (response) {
                    var result = response.data;
                    $("span.message").html(result.message);
                    $("div.registerMessageDiv").css("visibility", "visible");
                });
            },
            registerExpert:function () {
                if (0 == this.expertData.name.length) {
                    $("span.message").html("请输入用户名");
                    $("div.registerMessageDiv").css("visibility", "visible");
                    return;
                }
                if (0 == this.expertData.password.length) {
                    $("span.message").html("请输入密码");
                    $("div.registerMessageDiv").css("visibility", "visible");
                    return;
                }
                if (0 == this.expertData.phone.length) {
                    $("span.message").html("请输入手机号");
                    $("div.registerMessageDiv").css("visibility", "visible");
                    return;
                }
                if (0 == this.expertData.email.length) {
                    $("span.message").html("请输入邮箱");
                    $("div.registerMessageDiv").css("visibility", "visible");
                    return;
                }
                if (0 == this.expertData.company.length) {
                    $("span.message").html("请输入公司名称");
                    $("div.registerMessageDiv").css("visibility", "visible");
                    return;
                }

                <!-- 登录请求将移步至滑块验证鼠标松开事件处-->
                axios.post(this.expertUri, this.expertData).then(function (response) {
                    var result = response.data;
                    $("span.message").html(result.message);
                    $("div.registerMessageDiv").css("visibility", "visible");

                });
            }
        }
    });

</script>
</html>
